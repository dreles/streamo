{"ast":null,"code":"import _regeneratorRuntime from \"/Users/andreleslie/Desktop/streamo/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/andreleslie/Desktop/streamo/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/andreleslie/Desktop/streamo/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/andreleslie/Desktop/streamo/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/andreleslie/Desktop/streamo/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/andreleslie/Desktop/streamo/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/andreleslie/Desktop/streamo/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/andreleslie/Desktop/streamo/client/src/components/Comments.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { fetchStream } from '../actions';\nimport streams from '../apis/streams';\n\nvar Comments =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Comments, _React$Component);\n\n  function Comments() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Comments);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Comments)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      comments: [],\n      text: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Comments, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var comments;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return streams.get('/comments/');\n\n              case 2:\n                comments = _context.sent;\n                this.setState({\n                  comments: comments.data\n                });\n                console.log(this.state.comments);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"renderComments\",\n    value: function renderComments() {\n      var _this2 = this;\n\n      return this.state.comments.map(function (comment) {\n        if (comment.streamId === _this2.props.stream.id) {\n          return React.createElement(\"div\", {\n            key: comment.id,\n            className: \"item\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 22\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"content\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 23\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"header\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 24\n            },\n            __self: this\n          }, comment.user), comment.content));\n        } else {\n          return null;\n        }\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      e.preventDefault();\n      streams.put('/comments/', {\n        user: this.props.user\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"ui segment\",\n        style: {\n          width: \"72.5%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"ui relaxed divided list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Chat\"), this.renderComments()), React.createElement(\"div\", {\n        className: \"ui divider\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"ui search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"ui form\",\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: function onChange(e) {\n          _this3.setState({\n            text: e.target.value\n          });\n        },\n        style: {\n          width: \"100%\"\n        },\n        className: \"prompt\",\n        type: \"text\",\n        placeholder: \"Add Comment...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Comments;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return user;\n};\n\nexport default connect(mapStateToProps)(Comments);","map":{"version":3,"sources":["/Users/andreleslie/Desktop/streamo/client/src/components/Comments.js"],"names":["React","connect","fetchStream","streams","Comments","state","comments","text","get","setState","data","console","log","map","comment","streamId","props","stream","id","user","content","e","preventDefault","put","width","renderComments","onSubmit","target","value","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {connect} from 'react-redux'\nimport {fetchStream} from '../actions'\nimport streams from '../apis/streams'\n\n\nclass Comments extends React.Component {\n\tstate = {comments: [], text: \"\"} \n\tasync componentDidMount(){ \n\t\tconst comments = await streams.get('/comments/') \n\t\tthis.setState({comments: comments.data})\n\t\tconsole.log(this.state.comments)\n\n\t}\n\n\trenderComments(){\n\t\treturn(\n\n\t\t\tthis.state.comments.map((comment) => { \n\t\t\t\tif(comment.streamId === this.props.stream.id){\n\t\t\t\t\treturn(\n\t\t\t\t\t\t<div key={comment.id} className=\"item\">\n\t\t\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t\t    <div className=\"header\">{comment.user}</div>\n\t\t\t\t\t\t\t    {comment.content}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}else{\n\t\t\t\t\treturn null\n\t\t\t\t}\n\t\t\t})\n\n\t\t);\n\t}\n\n\tonSubmit(e){ \n\t\te.preventDefault()\n\t\tstreams.put('/comments/', {\n\t\t\tuser: this.props.user\n\n\t\t})\n\t}\n\n\n\trender(){ \n\t\t\n\t\t\n\t\t\treturn(\n\n\t\t\t\t<div className=\"ui segment\" style={{width: \"72.5%\"}}>\n\t\t\t\t\t<div className=\"ui relaxed divided list\">\n\t\t\t\t\t\t<h5>Chat</h5>\n\t\t\t\t\t\t{this.renderComments()} \n\t\t    \t\t</div>\n\t\t    \t\t<div className=\"ui divider\"></div>\n\t\t    \t\t<div className=\"ui search\">\n\t\t    \t\t\t<form className=\"ui form\" onSubmit={this.onSubmit}>\n\t\t    \t\t\t\t<input onChange={(e) => {this.setState({text: e.target.value})}} style={{width: \"100%\"}} className=\"prompt\" type=\"text\" placeholder=\"Add Comment...\"/>\n\t\t    \t\t\t</form>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\n\n\n\t}\n\n\t\n}\n\nconst mapStateToProps = (state) => {\n\treturn (user: signedIn.userId); \n}\n\n\nexport default connect(mapStateToProps)(Comments);\n\n"]},"metadata":{},"sourceType":"module"}